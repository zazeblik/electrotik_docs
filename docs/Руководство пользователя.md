## ElectroTik - руководство пользователя

Интерфейс системы становится доступным пользователю после авторизации.
Для этого в форме авторизации необходимо заполнить поля Логин и Пароль и нажать кнопку Войти.

### С чего начать

Прежде чем начать работать с CRM, необходимо наполнить "Базу данных" участниками, группами и, если необходимо, родителями.
Таблицы всех моделей "Базы данных" имеют одинаковый вид и одинаковые элементы управления.

В верхнем правом углу таблицы расположен, блок постраничной навигации. 
В этом блоке можно выбрать по сколько элементов отображать на странице таблице, и постранично листать данные из Базы данных

В верхнем левом блоке расположены чекбокс Выбрать всех и кнопки Добавить, Удалить, Экспорт.

- при нажатии на чекбокс Выбрать всех, выделяются все элементы на странице (необходимо для удаления), при снятии галочки, со всех элементов на странице снимается выделение
- при нажатии на кнопку Добавить, появляется модальное окно. В этом окне расположены поля той модели, над таблицей была нажата кнопка Добавить. После заполнения всех полей  помеченных *, и нажатии кнопки внизу модального окна Сохранить, модальное окно скрывается и в таблице появляется новая запись

    Важно! Все поля в формах помеченные * обязательны для заполнения

- при нажатии на кнопку Удалить, удаляются выделенные элементы таблицы
- при нажатии на кнопку Экспорт, формируется файл формата Excel, в котором отражены ровно те данные, которые в данный момент отображены в таблице

При клике по заголовку столбца таблицы происходит сортировка данных в таблице по тому полю, которое было кликнуто.

Под заголовками столбцов расположены поля фильтрации по полю.

- Текстовые поля фильтруются по вхождению в части слова в значение поля
- Цифровые поля фильтруются по точному соответствию со значением поля
- Поля дат фильтруются по датам, которые будут после введённого значения

При одинарном клике на запись в таблице, запись выделяется (необходимо для удаления)

При двойном клике на запись, открывается модальное окно редактирования записи, аналогичное модальному окну при добавлении, но поля предзаполнены данными, выбранной модели. При нажатии кнопки внизу модального окна Сохранить, модальное окно скрывается и в таблице обновляется запись в таблице

### Участники

Минимальная единица коллектива в системе это участник.
Тренеры тоже являются участниками коллектива.
Начать работу в CRM следует начать с наполнения "Базы данных" участниками.
Для этого в верхнем меню кликаем в пункт "База данных" из выпадающего списка выбираем "Участники", после чего видим таблицу "Участники".

### Группы

Все тренировки и платежи относятся к конкретной группе.
Поэтому после наполнения базы участниками, следует наполнить "Базу данных" группами.

    Если при заполнении группы указать время, продолжительность занятия и дни недели,
    то каждый указанный день недели в 00:00 по МСК будет создана тренировка в этой группе.

Группы бывают 3 типов: групповая, индивидуальная и сборы.

- В группах с типом групповая оплата принимается за период с 00:00 1 числа одного месяца по 1 число любого следующего месяца.
Задолженности считаются соответственно.
- В группах с типом индивидуальная оплата принимается за каждое занятие. Задолженности считаются соответственно.
- В группах с типом сборы оплата принимается за весь период тренировок в рамках группы. Задолженности считаются соответственно.

При создании удобно добавлять участников в группу, для формирования журналов групп, но ничто не мешает Вам это сделать позднее.

При удалении группы, удаляются все её тренировки. Платежи остаются, но без принадлежности с какой-либо группе.

### Родители

Отдельная модель с привязкой к участнику. 
Служит дополнительной информацией к участнику. 
Стоит отметить, что у каждого участника может быть несколько родителей, также как и у каждого родителя может быть несколько детей.

### Пользователи

Для того чтобы дать доступ к системе сотрудникам коллектива, необходимо создать каждому сотруднику пользователя со своим логином, паролем и ролью. Возможность создавать пользователей есть только у администраторов.

    Важно! Не путайте пользователей и участников. Это разные модели.

Все пользователи сервиса делятся на два типа по ролям: администратор и тренер.
После авторизации в сервисе пользователь получает роль, ранее предустановленную администратором.

    Важно! При первом старте в CRM автоматически создаётся пользователь 
    с ролью Администратор логином admin и паролем admin. 
    Первым делом в базе данных создайте другого пользователя с ролью администратор, 
    авторизуйтесь под ним и удалите пользователя admin.

Пользователям с ролью тренер не доступны пункты меню: "База данных" и "Статистика"

### Тренировки

Тренировки могут быть созданы, редактированы и удалены любым пользователем из интерфейсов Базы данных, в Журналах или в Планировании. 

После создания тренировку можно посмотреть в журнале группы, в рамках которой была создана тренировка. Кликнув в конкретную тренировку в журнале, можно отметить присутствующих на занятии участников. 
Отметки о присутствии на тренировке будут отмечены + в отчете по посещаемости группы. 
Занятия в этом отчёте, выделенные зелёным цветом, являются оплаченными. Также в журнале можно редактировать тренировку, кликнув соответствующие кнопку, а также удалить, нажав крестик в правом верхнем углу карточки Тренировки.

Также тренировки можно добавить или редактировать в блоке Планирование. Кликнув строчку временной шкалы в правой части экрана, вы откроете модальное окно Тренировки: добавление. А кликнув в уже созданные тренировки в Планировании вы откроете окно редактирования тренировки.

    Важно! Пользуйтесь специальными кнопками выбора даты и времени, при заполнении времени начала и окончания тренировки.
    По этим датам идёт расчет оплаты занятия.
    
### Платежи

Создать платёж имеет право только администратор системы. Создаются, редактируются и удаляются платежи только в базе данных.
Записи о платежах остаются в Базе данных даже после удаления группы, к которой они принадлежали.

У платежа есть срок действия, для различных типов групп, эти сроки необходимо администратору выставлять по-разному.

- В группах с типом групповая платежи необходимо выставлять строго с 00:00 1 числа месяца по 00:00 1 числа любого последующего месяца. Если начало и окончание будут не с 00:00 по 00:00 с первого по первое, то для плательщика сформируется неправильная сумма в отчёте по задолженностям группы, по которой совершен платёж. А в отчёте по посещаемости за месяц зелёными маркерами будут помечены строго те тренировки, начало и конец которых строго в период оплаты вплоть до секунды.
- В группах с типом индивидуальная платежи необходимо выставлять строго с времени начала занятия по время окончания занятия. В случае, если время начала в платеже больше времени начала в тренировке, или время конца платежа меньше времени окончания в тренировке, ни в одном из отчётов этот платёж не зачтётся.
- В группах с типом сборы платежи необходимо выставлять строго с времени начала первого занятия сборов и строго по время конца последней тренировки сборов. В случае, если время начала в платеже больше времени начала в в первой тренировке сборов, или время конца платежа меньше времени окончания в последней тренировке сборов, ни в одном из отчётов этот платёж не зачтётся.

CRM допускает, что оплата занятий может быть меньше или больше номинальной стоимости указанной в группе. Это сделано, чтобы у администратора была возможность делать участникам скидки или штрафы на оплату занятий.

Также только администратор принимающий платёж решает на какой срок будет действовать оплата в какой группе и за какую сумму.

### Статистика

В сервисе ElektroTik ведётся три вида статистики:

- По участникам - показывает сколько занятий в месяц каждого типа посетил участник
- По тренерам - показывает сколько занятий в месяц каждого типа провёл тренер
- По оплате - показывает какую сумму в месяц за тренировки каждого типа групп внёс участник
